<!DOCTYPE html>
<html>
    <head>
        <title>GiveSpace13K</title>
        <script src='https://aframe.io/releases/0.6.1/aframe.min.js'></script>
    </head>
    <body>
        <a-scene>
            <a-entity line="start: -1.5 -1 -3; end: -1.5 11.5 -28; color: red"
                   line__2="start:  2.5 -1 -3; end:  2.5 11.5 -28; color: red"></a-entity>
            <a-sphere id="alien1" radius="0.5" color="gray"></a-sphere>
            <a-sphere id="alien2" radius="0.5" color="gray"></a-sphere>
            <a-sphere id="alien3" radius="0.5" color="gray"></a-sphere>
            <a-sphere id="alien4" radius="0.5" color="gray"></a-sphere>
            <a-sphere id="alien5" radius="0.5" color="gray"></a-sphere>
            <a-entity id="camera-container" position="0 3 -4">
                <a-entity id="camera" camera look-controls wasd-controls>
                <a-triangle id="me-triangle" position="0 -2 -3" color="red"></a-triangle>
                </a-entity>
            </a-entity>
        </a-scene>
    </body>
</html>

<script>
    var queue = ['', 1, 1, 0, 0];
    for(var a=5; a<153; a++){
        queue[a] = Math.floor((Math.random() * 2) + 1) - 1;
    }
    var i = 2;
    var count = 4;
    function render() {
        if(parseInt(count+4) > parseInt(queue.length)){
            alert('Congratualtions, you won the game :-) You score: '+ count +'.\n\n You can refresh the page to play again!');
            return;
        }
        if (i > 7) {
            if(checkPosition()){
                alert('You lost the game. You score: '+ count +'.\n\n You can refresh the page to play again!');
                return;
            }
            count++;
            i = 2;
        } else {
            i += .1 + (count/1000);
            // sample animation of position from 0 1.5 -8   to 0 -1 -3
            // sample animation of position from 0 4 -13    to 0 1.5 -8
            // sample animation of position from 0 6.5 -18  to 0 4 -13
            // sample animation of position from 0 9 -23    to 0 6.5 -18
            // sample animation of position from 0 11.5 -28 to 0 9 -23
            document.querySelector('#alien1').setAttribute('position', queue[count + 0] + ' ' + (2.5-i/2) + ' ' + (-10+i) );
            document.querySelector('#alien2').setAttribute('position', queue[count + 1] + ' ' + (5-i/2)   + ' ' + (-15+i) );
            document.querySelector('#alien3').setAttribute('position', queue[count + 2] + ' ' + (7.5-i/2) + ' ' + (-20+i) );
            document.querySelector('#alien4').setAttribute('position', queue[count + 3] + ' ' + (10-i/2)  + ' ' + (-25+i) );
            document.querySelector('#alien5').setAttribute('position', queue[count + 4] + ' ' + (12.5-i/2)+ ' ' + (-30+i) );
        }
        requestAnimationFrame(render);
    }

    function checkPosition(){
        console.log(count);
        // if(count>10){
        //     return true;
        // }
        return false;
        //debugger;
    }

    render();
</script>